# å¿«é€Ÿä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨

## ğŸš€ æ–¹æ³•1ï¼šä½¿ç”¨SCPä¸Šä¼ ï¼ˆæœ€å¿«ï¼Œæ¨èï¼‰

### Windows PowerShell

```powershell
# 1. æ‰“å¼€PowerShellï¼Œè¿›å…¥é¡¹ç›®ç›®å½•
cd E:\Tongxun

# 2. ä¸Šä¼ serverç›®å½•åˆ°æœåŠ¡å™¨
scp -r server root@47.116.197.230:/var/www/tongxun/

# ç³»ç»Ÿä¼šæç¤ºè¾“å…¥æœåŠ¡å™¨å¯†ç 
# è¾“å…¥å¯†ç åå¼€å§‹ä¸Šä¼ 
```

### å¦‚æœSCPå‘½ä»¤ä¸å­˜åœ¨

```powershell
# ä½¿ç”¨WinSCPï¼ˆå›¾å½¢åŒ–å·¥å…·ï¼Œæ›´ç®€å•ï¼‰
# ä¸‹è½½ï¼šhttps://winscp.net/

# æˆ–ä½¿ç”¨Git Bashï¼ˆå¦‚æœå®‰è£…äº†Gitï¼‰
# åœ¨Git Bashä¸­æ‰§è¡Œï¼š
scp -r server root@47.116.197.230:/var/www/tongxun/
```

---

## ğŸš€ æ–¹æ³•2ï¼šä½¿ç”¨å‹ç¼©åŒ…ä¸Šä¼ ï¼ˆé€‚åˆå¤§æ–‡ä»¶ï¼‰

### æ­¥éª¤1ï¼šåœ¨æœ¬åœ°å‹ç¼©

```powershell
# åœ¨PowerShellä¸­ï¼Œè¿›å…¥é¡¹ç›®ç›®å½•
cd E:\Tongxun

# å‹ç¼©serverç›®å½•ï¼ˆæ’é™¤node_modulesï¼ŒåŠ å¿«ä¸Šä¼ é€Ÿåº¦ï¼‰
# ä½¿ç”¨7-Zipæˆ–WinRARå‹ç¼©serverç›®å½•ä¸ºserver.zip
# æˆ–ä½¿ç”¨PowerShellï¼š
Compress-Archive -Path server -DestinationPath server.zip -Force
```

### æ­¥éª¤2ï¼šä¸Šä¼ å‹ç¼©åŒ…

```powershell
# ä¸Šä¼ å‹ç¼©åŒ…
scp server.zip root@47.116.197.230:/tmp/
```

### æ­¥éª¤3ï¼šåœ¨æœåŠ¡å™¨ä¸Šè§£å‹

```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@47.116.197.230

# åˆ›å»ºç›®å½•
mkdir -p /var/www/tongxun

# è§£å‹
cd /var/www/tongxun
unzip /tmp/server.zip

# ç§»åŠ¨æ–‡ä»¶
mv server/* .
rm -rf server server.zip

# æˆ–ç›´æ¥è§£å‹åˆ°æŒ‡å®šç›®å½•
unzip /tmp/server.zip -d /var/www/tongxun/server
```

---

## ğŸš€ æ–¹æ³•3ï¼šä½¿ç”¨Gitï¼ˆå¦‚æœä»£ç åœ¨Gitä»“åº“ï¼‰

### åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ

```bash
# 1. SSHç™»å½•æœåŠ¡å™¨
ssh root@47.116.197.230

# 2. å®‰è£…Gitï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
yum install git -y

# 3. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p /var/www/tongxun
cd /var/www/tongxun

# 4. å…‹éš†é¡¹ç›®ï¼ˆå¦‚æœæœ‰Gitä»“åº“ï¼‰
git clone your-repo-url .

# æˆ–åªå…‹éš†serverç›®å½•
git clone your-repo-url temp
mv temp/server .
rm -rf temp
```

---

## ğŸš€ æ–¹æ³•4ï¼šä½¿ç”¨FTP/SFTPå·¥å…·ï¼ˆå›¾å½¢åŒ–ï¼Œæœ€ç®€å•ï¼‰

### æ¨èå·¥å…·ï¼šWinSCP

1. **ä¸‹è½½WinSCP**
   - è®¿é—®ï¼šhttps://winscp.net/
   - ä¸‹è½½å¹¶å®‰è£…

2. **é…ç½®è¿æ¥**
   - æ–‡ä»¶åè®®ï¼šSFTP
   - ä¸»æœºåï¼š`47.116.197.230`
   - ç«¯å£ï¼š22
   - ç”¨æˆ·åï¼š`root`
   - å¯†ç ï¼šä½ çš„æœåŠ¡å™¨å¯†ç 

3. **ä¸Šä¼ æ–‡ä»¶**
   - å·¦ä¾§ï¼šæœ¬åœ° `E:\Tongxun\server`
   - å³ä¾§ï¼šæœåŠ¡å™¨ `/var/www/tongxun/`
   - æ‹–æ‹½serverç›®å½•åˆ°å³ä¾§ï¼Œæˆ–å³é”®ä¸Šä¼ 

---

## âš¡ æœ€å¿«æ–¹æ³•ï¼šä¸€é”®ä¸Šä¼ è„šæœ¬

### åˆ›å»ºä¸Šä¼ è„šæœ¬ï¼ˆWindows PowerShellï¼‰

**æ–‡ä»¶**: `upload-to-server.ps1`

```powershell
# ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨è„šæœ¬
$serverIP = "47.116.197.230"
$serverUser = "root"
$localPath = "E:\Tongxun\server"
$remotePath = "/var/www/tongxun"

Write-Host "å¼€å§‹ä¸Šä¼ ä»£ç åˆ°æœåŠ¡å™¨..." -ForegroundColor Green

# ä¸Šä¼ serverç›®å½•
scp -r "$localPath" ${serverUser}@${serverIP}:${remotePath}/

Write-Host "ä¸Šä¼ å®Œæˆï¼" -ForegroundColor Green
Write-Host "ç°åœ¨å¯ä»¥SSHç™»å½•æœåŠ¡å™¨æ‰§è¡Œåç»­æ­¥éª¤" -ForegroundColor Yellow
```

**ä½¿ç”¨æ–¹æ³•**ï¼š
```powershell
# åœ¨PowerShellä¸­æ‰§è¡Œ
.\upload-to-server.ps1
```

---

## ğŸ“‹ ä¸Šä¼ åéªŒè¯

### åœ¨æœåŠ¡å™¨ä¸Šæ£€æŸ¥

```bash
# SSHç™»å½•æœåŠ¡å™¨
ssh root@47.116.197.230

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸Šä¼ æˆåŠŸ
ls -la /var/www/tongxun/server/

# åº”è¯¥çœ‹åˆ°ï¼š
# package.json
# src/
# node_modules/ (å¦‚æœæœ‰)
# ecosystem.config.js
# ç­‰æ–‡ä»¶
```

---

## ğŸ¯ æ¨èæµç¨‹ï¼ˆæœ€å¿«ï¼‰

### æ­¥éª¤1ï¼šå‹ç¼©å¹¶ä¸Šä¼ ï¼ˆæ’é™¤node_modulesï¼‰

```powershell
# åœ¨PowerShellä¸­
cd E:\Tongxun

# å‹ç¼©serverç›®å½•ï¼ˆæ’é™¤node_modulesï¼‰
# ä½¿ç”¨7-Zipæˆ–WinRARï¼Œæˆ–ï¼š
Compress-Archive -Path server -DestinationPath server.zip -Force

# ä¸Šä¼ 
scp server.zip root@47.116.197.230:/tmp/
```

### æ­¥éª¤2ï¼šåœ¨æœåŠ¡å™¨ä¸Šè§£å‹å¹¶å®‰è£…ä¾èµ–

```bash
# SSHç™»å½•
ssh root@47.116.197.230

# åˆ›å»ºç›®å½•
mkdir -p /var/www/tongxun/server
cd /var/www/tongxun/server

# è§£å‹
unzip /tmp/server.zip

# å®‰è£…ä¾èµ–
npm install

# åˆ é™¤å‹ç¼©åŒ…
rm /tmp/server.zip
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ’é™¤node_modules**ï¼šä¸Šä¼ å‰åˆ é™¤æˆ–æ’é™¤node_modulesç›®å½•ï¼Œåœ¨æœåŠ¡å™¨ä¸Šé‡æ–°å®‰è£…
2. **æ’é™¤æ—¥å¿—æ–‡ä»¶**ï¼šæ’é™¤logsç›®å½•ä¸­çš„æ—¥å¿—æ–‡ä»¶
3. **æ’é™¤.env**ï¼šä¸è¦ä¸Šä¼ .envæ–‡ä»¶ï¼Œåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»º
4. **æ–‡ä»¶æƒé™**ï¼šç¡®ä¿æ–‡ä»¶æƒé™æ­£ç¡®

---

## ğŸ”§ æ’é™¤æ–‡ä»¶ä¸Šä¼ ï¼ˆå¦‚æœä½¿ç”¨å‹ç¼©åŒ…ï¼‰

### åˆ›å»º.gitignoreæˆ–æ’é™¤åˆ—è¡¨

```bash
# åœ¨å‹ç¼©å‰ï¼Œå¯ä»¥åˆ é™¤è¿™äº›ç›®å½•
# Windows PowerShell
Remove-Item -Recurse -Force server\node_modules -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force server\logs -ErrorAction SilentlyContinue
Remove-Item -Force server\.env -ErrorAction SilentlyContinue
```

---

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²ä¸Šä¼ åˆ° `/var/www/tongxun/server/`
- [ ] package.jsonæ–‡ä»¶å­˜åœ¨
- [ ] srcç›®å½•å­˜åœ¨
- [ ] ecosystem.config.jså­˜åœ¨ï¼ˆå¦‚æœæœ‰ï¼‰
- [ ] æ–‡ä»¶æƒé™æ­£ç¡®

---

## ğŸš€ ä¸Šä¼ åç«‹å³æ‰§è¡Œ

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /var/www/tongxun/server

# 2. å®‰è£…ä¾èµ–
npm install

# 3. åˆ›å»º.envæ–‡ä»¶
nano .env
# è¾“å…¥é…ç½®ï¼ˆå‚è€ƒç”Ÿäº§ç¯å¢ƒé…ç½®æ¸…å•.mdï¼‰

# 4. å¯åŠ¨æœåŠ¡
pm2 start ecosystem.config.js
```

