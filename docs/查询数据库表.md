# 查询数据库表的SQL语句

## MySQL/MariaDB 查询所有表

### 1. 查询当前数据库的所有表
```sql
SHOW TABLES;
```

### 2. 查询所有表（包含表类型）
```sql
SHOW FULL TABLES;
```

### 3. 查询所有表（只显示表名）
```sql
SHOW TABLES FROM database_name;
```

### 4. 使用 INFORMATION_SCHEMA 查询（推荐）
```sql
SELECT TABLE_NAME 
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'tongxun';
```

### 5. 查询表名和表注释
```sql
SELECT TABLE_NAME, TABLE_COMMENT 
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'tongxun';
```

### 6. 查询表名、行数、大小等信息
```sql
SELECT 
    TABLE_NAME AS '表名',
    TABLE_ROWS AS '行数',
    ROUND((DATA_LENGTH + INDEX_LENGTH) / 1024 / 1024, 2) AS '大小(MB)',
    TABLE_COMMENT AS '注释'
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'tongxun'
ORDER BY TABLE_NAME;
```

## 查询表结构

### 1. 查看表结构
```sql
DESCRIBE table_name;
-- 或
DESC table_name;
```

### 2. 查看建表语句
```sql
SHOW CREATE TABLE table_name;
```

### 3. 查看表的详细信息
```sql
SHOW TABLE STATUS WHERE Name = 'table_name';
```

## 查询所有数据库

### 1. 列出所有数据库
```sql
SHOW DATABASES;
```

### 2. 查询当前使用的数据库
```sql
SELECT DATABASE();
```

## 实际使用示例

### 连接到数据库后执行
```bash
# 1. 登录MySQL
mysql -u root -p

# 2. 选择数据库
USE tongxun;

# 3. 查看所有表
SHOW TABLES;
```

### 预期输出（根据你的项目）
```
+-------------------+
| Tables_in_tongxun |
+-------------------+
| conversations     |
| friend_requests   |
| friends           |
| message_read_status|
| messages          |
| users             |
+-------------------+
```

## 快速查询脚本

### 查询所有表及其行数
```sql
SELECT 
    TABLE_NAME,
    TABLE_ROWS,
    ROUND((DATA_LENGTH + INDEX_LENGTH) / 1024 / 1024, 2) AS 'Size(MB)'
FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = 'tongxun'
ORDER BY TABLE_ROWS DESC;
```

### 查询所有表的字段信息
```sql
SELECT 
    TABLE_NAME,
    COLUMN_NAME,
    DATA_TYPE,
    IS_NULLABLE,
    COLUMN_DEFAULT,
    COLUMN_COMMENT
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_SCHEMA = 'tongxun'
ORDER BY TABLE_NAME, ORDINAL_POSITION;
```

## 常用命令总结

| 命令 | 说明 |
|------|------|
| `SHOW TABLES;` | 显示当前数据库的所有表 |
| `SHOW DATABASES;` | 显示所有数据库 |
| `USE database_name;` | 选择数据库 |
| `DESC table_name;` | 查看表结构 |
| `SHOW CREATE TABLE table_name;` | 查看建表语句 |
| `SELECT DATABASE();` | 查看当前数据库 |

## 注意事项

1. **替换数据库名**：将 `tongxun` 替换为你的实际数据库名
2. **权限**：确保有足够的权限查询 `INFORMATION_SCHEMA`
3. **大小写**：表名在 Linux 下区分大小写，Windows 下不区分

